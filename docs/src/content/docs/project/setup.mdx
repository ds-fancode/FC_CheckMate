---
title: Setup
---

import { Steps } from "@astrojs/starlight/components";

#### Pre-requisites

1. **Docker Desktop**: Ensure Docker Desktop is installed and running.
2. **Google OAuth Application**: Set up a Google OAuth application to enable login.
   - Follow the steps on the [Google documentation](https://developers.google.com/identity/protocols/oauth2/web-server#creatingcred) to create a new application and get a client ID and secret.
   - **Important**: Configure the following in your GCP OAuth Dashboard:
     - **Authorized JavaScript origins**: `http://localhost:3000` (for local development) or your domain (e.g., `https://yourdomain.com`)
     - **Authorized redirect URIs**: `http://localhost:3000/callback` (for local development) or your domain with callback (e.g., `https://yourdomain.com/callback`)

#### Local Dev Setup

<Steps>

1. Clone the repository:
   ```sh frame="none"
   git clone git@github.com:ds-horizon/checkmate.git
   ```
2. Install dependencies
   ```sh frame="none"
   yarn install
   ```
3. Create .env file:
   - Copy the .env.example file and rename it to .env. Update it with your specific environment variables.
   - **Required Google OAuth Configuration**:
     ```env
     GOOGLE_CLIENT_ID=your_google_client_id_here
     GOOGLE_CLIENT_SECRET=your_google_client_secret_here
     ```
   - Ensure these values match the credentials from your Google OAuth application created in the pre-requisites step.
4. Set up the database and seed data:
   ```sh frame="none"
   yarn docker:db:setup
   ```
   - Create a database container using Docker.
   - Seed the database with initial data from the `seedData.sql` file.
5. Start the application in development mode:
   ```sh frame="none"
   yarn dev
   ```
6. App will be started on http://localhost:3000

</Steps>

:::caution[OAuth Configuration]
Make sure your `GOOGLE_CLIENT_ID` and `GOOGLE_CLIENT_SECRET` are valid and that your GCP OAuth application has the correct:

- **Authorized JavaScript origins**: `http://localhost:3000` (for local dev)
- **Authorized redirect URIs**: `http://localhost:3000/callback` (for local dev)

For production deployments, replace `localhost:3000` with your actual domain.
:::

#### Docker Setup

<Steps>
1. Clone the repository:
   ```sh frame="none"
   git clone git@github.com:ds-horizon/checkmate.git
   ```
1. Create an environment file:
   - Ensure you have a .env file in place, based on .env.example.
   - **Required Google OAuth Configuration**:
     ```env
     GOOGLE_CLIENT_ID=your_google_client_id_here
     GOOGLE_CLIENT_SECRET=your_google_client_secret_here
     ```
2. Install dependencies
   ```sh frame="none"
   yarn install
   ```
3. Set up the application and database:
   ```sh frame="none"
   yarn docker:setup
   ```
   - Create both the application and database containers using Docker.
   - Seed the database with initial data.
4. App will be started on http://localhost:3000

</Steps>

:::note
Application running in docker is in **production** mode
:::

#### Developer Scripts

1. Set up the application in Docker with an existing database:
   ```sh frame="none"
   yarn docker:app:setup
   ```
   - Use this script to replicate production-like behavior in Docker while reusing an existing database container.
   - If a database container does not already exist, this script will create one and seed data from `seedData.sql` file.
2. Apply schema changes to the database:
   ```sh frame="none"
   yarn dev:db:setup
   ```
   - Create a database container in Docker (if one doesnâ€™t exist).
   - Generate the updated schema in the drizzle folder.
   - Apply the schema to the database.
   - Seed data from the `app/db/seed` folder.
3. Manage the Checkmate database:
   - Create the database and seed data from `seedData.sql` file::
     ```sh frame="none"
     yarn docker:db:setup
     ```
   - Insert seed data from seed folder:
     ```sh frame="none"
     yarn db:init
     ```
4. Monitor the database with [Drizzle Studio](https://orm.drizzle.team/docs/overview):
   - Use the Drizzle Studio tool to explore and manage the database.
   ```sh frame="none"
   yarn db:studio
   ```
5. Generate SQL from the Drizzle schema:
   - To export the database schema as an SQL file:
   ```sh frame="none"
   yarn db:generate
   ```
   - The generated SQL file will be saved in the drizzle folder at the project root.
